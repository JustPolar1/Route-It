<!DOCTYPE html>
<html>
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title id="titulo3">Mapa</title>
        <link href="/styles/main.css" rel="stylesheet">
        <link href="/styles/map.css" rel="stylesheet">
        
        <!-- CSS de Leaflet -->
        <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
        integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
        crossorigin=""/>
        
        <!-- CSS de Leaflet Routing Machine -->
        <link rel="stylesheet" href="https://unpkg.com/leaflet-routing-machine/dist/leaflet-routing-machine.css"/>
        
        <!-- CSS de Font Awesome -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">

        <link rel="icon" href="/assets/logo.png" type="image/png">
    </head>
    <body>
        <nav>
            <div class="barra-superior">
                <ul class="indices-izq">
                    <li><a href="javascript:void(0);" id="toggle-btn"><i class="fas fa-bars"></i></a></li>
                </ul>
                <h1 id="titulo8"><a href="/">Route-It</a></h1>
                <ul class="indices-der">
                    <li id="usuario">
                        <a href="javascript:void(0);"><i class="fas fa-user"></i></a>
                        <div class="menu_desplegable" id="menu">
                            <ul>
                                <li>
                                    <a href="/perfil"><button id="profile_link2" class="pildora" type="button">Perfil</button></a>
                                </li>
                                <li>
                                    <select class="pildora" id="languageSwitcher">
                                        <option value="es" id="esp">Español</option>
                                        <option value="en" id="eng">Inglés</option>
                                    </select>
                                </li>
                                <li>
                                    <button class="pildora" id="Link_cerrar_sesion2" onclick="fetch('/auth/logout', {
                                        method: 'POST', // Usar POST para cerrar sesión
                                        credentials: 'include' // Esto incluye las cookies en la solicitud
                                    }).then(response => {
                                        if (response.redirected) {
                                            window.location.href = response.url; // Redirigir si la respuesta indica redirección
                                        }
                                    })">Cerrar sesión</button>
                                </li>
                            </ul>
                        </div>
                    </li>
                </ul>     
            </div>
        </nav>
    
        <div class="barra-lateral" id="sidebar">
            <ul id="rutas">
                <li>
                    <h3 id="rutas-nombre">Rutas</h3>
                </li>
                <!--Plantilla para las rutas-->
            </ul>
        </div>

        <div id="map"></div>
        
        <!-- Leaflet -->
        <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
        integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
        crossorigin=""></script>
        <script src="https://unpkg.com/leaflet-routing-machine/dist/leaflet-routing-machine.js"></script>
        
        <!-- Scripts locales -->
        <script src="/scripts/translate.js"></script>
        <script src="/scripts/main.js"></script>
        <script src="/scripts/animation.js"></script>
        <script src="/scripts/map.js"></script>
    </body>
</html>
